# **第一次报告**  
## 0x00 对用到的类进行构造
1. Token类：里面的属性用于存放词法分析后的value(单词本身)，type(单词类型)，line(单词所在的列数)。 
2. TokenParser类：这是词法分析的一个核心类，有很多属性包括location(用于记录当前词法分析扫描器的扫描的位置)、row(用于记录当的行数，错误处理要用到)、line(用于记录当前列数)以及一个用于接收预处理后的数组str，另外还包括关键字数组、界符数组、字符常量数组等等属性，方法包括load()(用于接受预处理后的数组)，next()(用于将处理后的内容返回给语法分析)，并且充分使用javascript的类功能将一些进行词法分析的函数作为该类的方法。
3. State类以及AutoMachine类：由于在词法分析的过程中想要使分析的过程的扩展性做的更好，因此用到了自动机，这两个类就是为了实现一个自动机儿设计的两个类。在对数字以及标识符进行分析的时候使用自动机，将转移状态的字符与下一个状态结合从而达到自动机跳转的目的。
## 0x10 词法分析工作
1. 对关键字进行进行分析：使用javascript中的for...of...语句来遍历提前写好的关键字数组，只需要将使用的关键字加入已经建立的关键字数组中即可识别该单词是否为关键字。
2. 对数字常量进行分析：使用自动机，画出该自动机的状态转换图，使用自动机类的方法，实现跳转，对整型、浮点型以及科学计数法的数字进行判断，若不是正规的数字则将他归为错误处理部分。
3. 对字符常量进行分析：我们规定字符常量要加上单引号，因此在判断的时候使用if迭代即可，判断引号中间是否是一个字符。
4. 对标识符进行分析：一些情况下在进行关键字识别时标识符也会在其中进行一些判断但返回的一定不是关键字，因此就要在关键字那里将this.location(记录词法分析扫描器扫描的位置)进行一定的修改。我对标识符的分析使用了自动机，画出状态转化图，进行相应的判断。
5. 对界符进行分析：文法1.0版本对使用的界符不是很多，->,<-为双字界符，因此要额外进行分析。
## 0x20 成果展示
### 测试数据：
![test](https://s1.ax1x.com/2020/07/03/NjkxDP.png)
### 分析结果：
![result](https://s1.ax1x.com/2020/07/03/NjAwPe.png)
## 0x30 下一步工作设想
继续完善词法分析，例如添加字符串常量的分析以及对宏定义的分析等等。同时在完成好自己这部分功能的同时与组内成员合作，对整个课题进行一定程度的完善以及对之后要将该课题提交到公网上的部分进行学习，尽自己所能将编译课设达到最好的程度。
## 0x40 总结
通过这段时间编译课设的学习，我从中学到了很多，虽然编译课设还没有结束，但是在这一周的时间里我学到了很多知识，包括自动机的实现、Github的使用、js的语法知识以及git的应用，而且我也体会到了团队合作的重要性。看到老师学长学姐的付出，对我们同学也是一种激励，真的很感谢这次编译课设给了我这样一个机会去学习平常接触不到的东西，也感谢老师学长学姐的付出，谢谢你们！

